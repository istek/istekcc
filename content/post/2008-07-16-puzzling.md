---
title: 百思不得其解
date: 2008-07-16T03:40:54+00:00
layout: post
categories:
  - 我的世界
tags:
  - grub
---

这几天给一个成都的朋友帮忙，告诉他如何安装Ubuntu，因为他是双硬盘的主机，他不想破坏SATA硬盘的数据，于是希望能用IDE整块盘跑Ubuntu。

起先很正常，他安装好后，没有什么问题，就是XP无法引导，后来他重新安装了，结果问题出现了，无法引导IDE硬盘的GRUB，每次都是无系统，请插入光盘。当时，我从网络上搜了一下，绝大多数朋友认为是GRUB没有写到MBR，所以引导失败，于是将下面的解决办法告诉他：

使用LIVECD引导系统进入桌面，打开终端，
<!--more-->

```
#sudo grub
grub>find /boot/grub/stage1
//之后返回一个数值如 
(hd0,6)
(hd0,6)
grub>root(hd0,6)
grub>setup(hd0)
grub>quit
```

他使用了这个办法但是不奏效，还发现了一个问题，在windows下面使用PQMAGIC看IDE的分区，除了SWAP分区的可用空间是正常的以外，其他分区可用空间为0。于是我又搜索答案，发现某人说是零磁道的55AH如果有问题，也会引起硬盘无法引导的错误。于是使用DISKMAN工具修复，但是依旧是好的。

于是我建议他拿上硬盘到他朋友那去看看。两个小时后，他告诉我，硬盘是好的，在他朋友那一切正常。很奇怪的一个问题，我百思不得其解，找不到解决办法。我就告诉他，让他把他朋友的数据线带上，别改硬盘的跳线，再回家试。

终于，硬盘正常了。后来他仔细检查了一下IDE数据线，是40针的，而他用的新线是80针的。终于发现问题所在了！